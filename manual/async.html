<!DOCTYPE html>
<html itemscope itemtype="http://schema.org/Organization">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta itemprop="name" content="Pulsar">
<meta itemprop="description" content="Erlang-like actors for Clojure">
<title>
  
    core.async - 
   Pulsar
</title>
<!--<link rel="shortcut icon" href="/images/icons/loading_icon.png">-->
<link href="/pulsar/bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css">
<link href="/pulsar/css/coderay.css" rel="stylesheet" type="text/css">
<!-- <link href="/pulsar/css/prettify/sunburst.css" rel="stylesheet" type="text/css"> -->
<!-- <link href="/css/pygments/default.css" rel="stylesheet" type="text/css"> -->
<link href="/pulsar/css/site.css?now" rel="stylesheet" type="text/css">



</head>
<body>

<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
    <div class="container-fluid">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
      </a>
      <a class="brand" href="/pulsar/">Pulsar</a>
      <div class="nav-collapse collapse">
        <ul class="nav">
          <li class="icon github"><a href="https://github.com/puniverse/pulsar"><img src="/pulsar/images/icons/github.png">View on Github</a></li>
          <li><a href="/pulsar/api/index.html">API</a> </li>
          <li class="icon bug"><a href="https://github.com/puniverse/pulsar/issues/new"><img src="/pulsar/images/icons/bug.png">File a bug</a></li>
          <!-- <li class="icon source"><a href="https://github.com/puniverse/pulsar/blob/master/CONTRIBUTING.md"><img src="/images/icons/source.png">Contribute</a> </li> -->
          <li class="icon talk"><a href="https://groups.google.com/forum/#!forum/quasar-pulsar-user"><img src="/pulsar/images/icons/talk.png">Discuss</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>


<div class="container-fluid">
  <div class="row-fluid">
    <div class="span3">
  <div class="well well-small sidebar-nav">
    <ul class="nav nav-list">
      
        <li class="nav-header">Getting Started</li>
        
          
          
            
          
          
          
            <li>
              <a  href="/pulsar/getting-started.html">
                Getting Started
              </a>
              
            </li>
          
        
          
          
            
          
          
          
        
          
          
            
          
          
          
        
          
          
            
          
          
          
        
          
          
            
          
          
          
            <li>
              <a  href="/pulsar/news.html">
                News
              </a>
              
            </li>
          
        
          
          
            
          
          
          
        
      
        <li class="nav-header">User Manual</li>
        
          
          
            
          
          
          
        
          
          
            
          
          
          
            <li>
              <a  href="/pulsar/manual/core.html">
                Pulsar Core
              </a>
              
            </li>
          
        
          
          
            
          
          
          
            <li>
              <a  href="/pulsar/manual/actors.html">
                Pulsar's Actor System
              </a>
              
            </li>
          
        
          
          
            
          
          
          
            <li>
              <a class="active" href="/pulsar/manual/async.html">
                core.async
              </a>
              
              <ul class="nav nav-list"></ul>
              
            </li>
          
        
          
          
            
          
          
          
        
          
          
            
          
          
          
            <li>
              <a  href="/pulsar/manual/examples.html">
                Examples
              </a>
              
            </li>
          
        
      
      <li class="divider"></li>
    </ul>
  </div>
</div>

    <div class="span8" id="content-container">

      <span class="edit-on-github">
  <a href="https://github.com/puniverse/pulsar/edit/master/docs/manual/async.md">Edit on Github</a>
</span>


      
      <div class="page-header">
        <h1>core.async
          
        </h1>
      </div>
      

      <div id="content"><p>core.async is a new <a href="https://github.com/clojure/core.async/">asynchronous programming library</a> for Clojure built by Rich Hickey and other contributors. It provides something akin to fibers (though more limited than Pulsar fibers) and channels, and is also available in ClojureScript. Because core.async provides a subset of Pulsar’s capability, Pulsar provides an optional API that’s compatible with core.async which some people may prefer.</p>

<p>The core.async implementation is found in the <code>co.paralleluniverse.pulsar.async</code> namespace. It defines the following names: <code>chan</code>, <code>buffer</code>, <code>dropping-buffer</code>, <code>sliding-buffer</code>, <code>go</code>, <code>thread</code>, <code>close!</code>, <code>&gt;!</code>, <code>&gt;!!</code>, <code>&lt;!</code>, <code>&lt;!!</code>, <code>alts!</code>, <code>alts!!</code>, <code>alt!</code>, <code>alt!!</code> and <code>timeout</code>.</p>

<p>These definitions are no more than thin wrappers around Pulsar functions and macros:</p>

<ul>
  <li><code>(chan)</code> is the same as calling <code>(channel)</code>.</li>
  <li><code>(chan (buffer n))</code> or <code>(chan n)</code> are the same as <code>(channel n :block)</code> and <code>(channel n)</code>.</li>
  <li><code>(chan (dropping-buffer n))</code> is the same as <code>(channel n :drop)</code></li>
  <li><code>(chan (sliding-buffer n))</code> is the same as <code>(channel n :displace)</code></li>
  <li><code>close!</code> is the same as <code>close!</code></li>
  <li><code>&gt;!</code> and <code>&gt;!!</code> are the same as <code>snd</code></li>
  <li><code>&lt;!</code> and <code>&lt;!!</code> are the same as <code>rcv</code></li>
</ul>

<p>The core.async API and the Pulsar API may be used interchangably, so you can call ‘&gt;!’ on a channel created with <code>channel</code> or <code>snd</code> on a channel created with <code>chan</code>. They are one and the same.</p>

<p><code>go</code> simply performs its body within a newly spawned fiber.</p>

<p>These are the differences between the Pulsar implementation of the core.async API, and the orgiginal implementation:</p>

<ul>
  <li>Channels created with <code>(chan (sliding-buffer n))</code> are single-consumer.</li>
  <li>You may use the <code>!</code> and the <code>!!</code> defs interchangeably (the original implementation forces the use of the single-bang defs in go-blocks and the double-bang defs in regular threads). This means that in the Pulsar implementation all of the double-bang names (<code>&gt;!!</code>, <code>&lt;!!</code>, <code>alts!!</code> and <code>alt!!</code>) are actually redundant (but included for compatibility).</li>
</ul>

<p>In addition, there are performance differences, mostly resulting from the fact that Pulsar uses fork-join pools to schedule fibers, while core.async uses regular thread pools. In short, if there is little interaction between go blocks (say, each go block writes something to a channel and completes), you can expet better performance from the original implementation. If there is a lot of interaction between go blocks (there’s non-trivial message passing among them), then the Pulsar implementation will yield better performance.</p>
</div>

      <hr>

      <footer>
        <div>
          <div>&copy; 2013, Parallel Universe Software Co.</div>
        </div>
      </footer>

    </div>
  </div>
</div>

<!-- <script src="/pulsar/js/prettify/prettify.js"></script> -->
<script src="/pulsar/js/jquery.min.js"></script>
<script src="/pulsar/bootstrap/js/bootstrap.min.js"></script>
<script src="/pulsar/js/bootstrap-scrollspy.js"></script>
<script>


  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-25007319-2']);
  _gaq.push(['_trackPageview']);
  
  (function() {
    var ga = document.createElement('script'); 
    ga.type = 'text/javascript'; 
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; 
    s.parentNode.insertBefore(ga, s);
  })();


// Change "active" style on selected left-hand navigation menu item.
$(document).ready(function () {
  var path = location.pathname;
  $('ul.nav > li > a[href="' + path + '"]').parent().addClass('active');

  // TODO: Use kramdown {:.prettyprint .linenums .lang-ruby} to add the
  // <pre class="prettyprint"> instead of doing this client-side.

  // $('pre:has(code:not(.language-txt))').addClass('prettyprint');
  // window.prettyPrint && prettyPrint();
});
</script>

</body>
</html>
