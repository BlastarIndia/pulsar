<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>co.paralleluniverse.pulsar documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Pulsar 0.2-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li class="current"><a href="co.paralleluniverse.pulsar.html"><span>co.paralleluniverse.pulsar</span></a></li><li><a href="co.paralleluniverse.pulsar.behaviors.html"><span>co.paralleluniverse.pulsar.behaviors</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="co.paralleluniverse.pulsar.html#var-%21"><span>!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-%21%21"><span>!!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-actor"><span>actor</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-as-timeunit"><span>as-timeunit</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-attach%21"><span>attach!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-channel"><span>channel</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-channel-group"><span>channel-group</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-current-fiber"><span>current-fiber</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-current-strand"><span>current-strand</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-defactor"><span>defactor</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-defsusfn"><span>defsusfn</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-double-channel"><span>double-channel</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-fiber"><span>fiber</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-fj-pool"><span>fj-pool</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-float-channel"><span>float-channel</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-get-actor"><span>get-actor</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-int-channel"><span>int-channel</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-link%21"><span>link!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-long-channel"><span>long-channel</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-mailbox"><span>mailbox</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-make-fj-pool"><span>make-fj-pool</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-maketag"><span>maketag</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-rcv"><span>rcv</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-receive"><span>receive</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-receive-timed"><span>receive-timed</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-register"><span>register</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-self"><span>self</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-set-state%21"><span>set-state!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-snd"><span>snd</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-spawn"><span>spawn</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-spawn-fiber"><span>spawn-fiber</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-spawn-link"><span>spawn-link</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-spawn-watch"><span>spawn-watch</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-start"><span>start</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-state"><span>state</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-strampoline"><span>strampoline</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-susfn"><span>susfn</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-suspendable%21"><span>suspendable!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-suspendable%3F"><span>suspendable?</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-trap%21"><span>trap!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-unlink%21"><span>unlink!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-unregister"><span>unregister</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-unwatch%21"><span>unwatch!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-watch%21"><span>watch!</span></a></li><li><a href="co.paralleluniverse.pulsar.html#var-whereis"><span>whereis</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>co.paralleluniverse.pulsar documentation</h2><pre class="doc">Pulsar is an implementation of lightweight threads (fibers),
Go-like channles and Erlang-like actors for the JVM</pre><div class="public" id="var-%21"><h3>!</h3><h4 class="macro">macro</h4><div class="usage"><code>(! actor message)</code><code>(! actor arg &amp; args)</code></div><pre class="doc">Sends a message to an actor.
This function returns nil.</pre></div><div class="public" id="var-%21%21"><h3>!!</h3><h4 class="macro">macro</h4><div class="usage"><code>(!! actor message)</code><code>(!! actor arg &amp; args)</code></div><pre class="doc">Sends a message to an actor synchronously.
This has the exact same semantics as ! (in particular, this function always returns nil),
but it hints the scheduler that the current actor is about to wait for a response from the message's addressee.</pre></div><div class="public" id="var-actor"><h3>actor</h3><h4 class="macro">macro</h4><div class="usage"><code>(actor bindings &amp; body)</code></div><pre class="doc">Creates a new actor.
</pre></div><div class="public" id="var-as-timeunit"><h3>as-timeunit</h3><div class="usage"><code>(as-timeunit x)</code></div><pre class="doc">Converts a keyword to a java.util.concurrent.TimeUnit
&lt;pre&gt;
:nanoseconds | :nanos         -&gt; TimeUnit/NANOSECONDS
:microseconds | :us           -&gt; TimeUnit/MICROSECONDS
:milliseconds | :millis | :ms -&gt; TimeUnit/MILLISECONDS
:seconds | :sec               -&gt; TimeUnit/SECONDS
:minutes | :mins              -&gt; TimeUnit/MINUTES
:hours | :hrs                 -&gt; TimeUnit/HOURS
:days                         -&gt; TimeUnit/DAYS
&lt;/pre&gt;
</pre></div><div class="public" id="var-attach%21"><h3>attach!</h3><div class="usage"><code>(attach! channel strand)</code></div><pre class="doc">Sets a channel's owning strand (fiber or thread).
This is done automatically the first time a rcv (or one of the primitive-type rcv-xxx) is called on the channel.</pre></div><div class="public" id="var-channel"><h3>channel</h3><div class="usage"><code>(channel size)</code><code>(channel)</code></div><pre class="doc">Creates a channel
</pre></div><div class="public" id="var-channel-group"><h3>channel-group</h3><div class="usage"><code>(channel-group &amp; channels)</code></div><pre class="doc">Creates a channel group
</pre></div><div class="public" id="var-current-fiber"><h3>current-fiber</h3><div class="usage"><code>(current-fiber)</code></div><pre class="doc">Returns the currently running lightweight-thread or nil if none
</pre></div><div class="public" id="var-current-strand"><h3>current-strand</h3><div class="usage"><code>(current-strand)</code></div><pre class="doc">Returns the currently running fiber or current thread in case of new active fiber
</pre></div><div class="public" id="var-defactor"><h3>defactor</h3><h4 class="macro">macro</h4><div class="usage"><code>(defactor name doc-string? attr-map? [params*] body)</code></div><pre class="doc">Defines a new actor template.
</pre></div><div class="public" id="var-defsusfn"><h3>defsusfn</h3><h4 class="macro">macro</h4><div class="usage"><code>(defsusfn &amp; expr)</code></div><pre class="doc">Defines a suspendable function that can be used by a fiber or actor
</pre></div><div class="public" id="var-double-channel"><h3>double-channel</h3><div class="usage"><code>(double-channel size)</code><code>(double-channel)</code></div><pre class="doc">Creates a double channel
</pre></div><div class="public" id="var-fiber"><h3>fiber</h3><div class="usage"><code>(fiber &amp; args)</code></div><pre class="doc">Creates a new fiber (a lightweight thread) running in a fork/join pool.
</pre></div><div class="public" id="var-fj-pool"><h3>fj-pool</h3><div class="usage"></div><pre class="doc">A global fork/join pool. The pool uses all available processors and runs in the async mode.
</pre></div><div class="public" id="var-float-channel"><h3>float-channel</h3><div class="usage"><code>(float-channel size)</code><code>(float-channel)</code></div><pre class="doc">Creates a float channel
</pre></div><div class="public" id="var-get-actor"><h3>get-actor</h3><div class="usage"><code>(get-actor a)</code></div><pre class="doc">If the argument is an actor -- returns it. If not, looks up a registered actor with the argument as its name
</pre></div><div class="public" id="var-int-channel"><h3>int-channel</h3><div class="usage"><code>(int-channel size)</code><code>(int-channel)</code></div><pre class="doc">Creates an int channel
</pre></div><div class="public" id="var-link%21"><h3>link!</h3><div class="usage"><code>(link! actor2)</code><code>(link! actor1 actor2)</code></div><pre class="doc">links two actors
</pre></div><div class="public" id="var-long-channel"><h3>long-channel</h3><div class="usage"><code>(long-channel size)</code><code>(long-channel)</code></div><pre class="doc">Creates a long channel
</pre></div><div class="public" id="var-mailbox"><h3>mailbox</h3><div class="usage"></div><pre class="doc">@mailbox is the mailbox channel of the currently running actor
</pre></div><div class="public" id="var-make-fj-pool"><h3>make-fj-pool</h3><div class="usage"><code>(make-fj-pool parallelism async)</code></div><pre class="doc">Creates a new ForkJoinPool with the given parallelism and with the given async mode
</pre></div><div class="public" id="var-maketag"><h3>maketag</h3><div class="usage"><code>(maketag)</code></div><pre class="doc">Returns a random, probably unique, identifier.
(this is similar to Erlang's makeref).</pre></div><div class="public" id="var-rcv"><h3>rcv</h3><div class="usage"><code>(rcv channel)</code><code>(rcv channel timeout unit)</code></div><pre class="doc">Receives a message from a channel or a channel group
</pre></div><div class="public" id="var-receive"><h3>receive</h3><h4 class="macro">macro</h4><div class="usage"><code>(receive)</code><code>(receive patterns* &lt;:after ms action&gt;?)</code><code>(receive [binding transformation?] patterns* &lt;:after ms action&gt;?)</code></div><pre class="doc">Receives a message in the current actor and processes it
</pre></div><div class="public" id="var-receive-timed"><h3>receive-timed</h3><div class="usage"><code>(receive-timed timeout)</code></div><pre class="doc">Waits (and returns) for a message for up to timeout ms. If time elapses -- returns nil.
</pre></div><div class="public" id="var-register"><h3>register</h3><div class="usage"><code>(register name actor)</code><code>(register actor)</code></div><pre class="doc">Registers an actor
</pre></div><div class="public" id="var-self"><h3>self</h3><div class="usage"></div><pre class="doc">@self is the currently running actor
</pre></div><div class="public" id="var-set-state%21"><h3>set-state!</h3><div class="usage"><code>(set-state! x)</code></div><pre class="doc">Sets the state of the currently running actor
</pre></div><div class="public" id="var-snd"><h3>snd</h3><div class="usage"><code>(snd channel message)</code></div><pre class="doc">Sends a message to a channel
</pre></div><div class="public" id="var-spawn"><h3>spawn</h3><h4 class="macro">macro</h4><div class="usage"><code>(spawn :name? :mailbox-size? :lifecycle-handler? :stack-size? :pool? f &amp; args)</code></div><pre class="doc">Creates and starts a new actor
</pre></div><div class="public" id="var-spawn-fiber"><h3>spawn-fiber</h3><h4 class="macro">macro</h4><div class="usage"><code>(spawn-fiber &amp; args)</code></div><pre class="doc">Creates and starts a new fiber
</pre></div><div class="public" id="var-spawn-link"><h3>spawn-link</h3><h4 class="macro">macro</h4><div class="usage"><code>(spawn-link :name? :mailbox-size? :lifecycle-handler? :stack-size? :pool? f &amp; args)</code></div><pre class="doc">Creates and starts a new actor, and links it to @self
</pre></div><div class="public" id="var-spawn-watch"><h3>spawn-watch</h3><h4 class="macro">macro</h4><div class="usage"><code>(spawn-watch :name? :mailbox-size? :lifecycle-handler? :stack-size? :pool? f &amp; args)</code></div><pre class="doc">Creates and starts a new actor, and makes @self monitor it
</pre></div><div class="public" id="var-start"><h3>start</h3><div class="usage"><code>(start fiber)</code></div><pre class="doc">Starts a fiber
</pre></div><div class="public" id="var-state"><h3>state</h3><div class="usage"></div><pre class="doc">@state is the state of the currently running actor
</pre></div><div class="public" id="var-strampoline"><h3>strampoline</h3><div class="usage"><code>(strampoline f)</code><code>(strampoline f &amp; args)</code></div><pre class="doc">A suspendable version of trampoline. Should be used to implement
finite-state-machine actors.

trampoline can be used to convert algorithms requiring mutual
recursion without stack consumption. Calls f with supplied args, if
any. If f returns a fn, calls that fn with no arguments, and
continues to repeat, until the return value is not a fn, then
returns that non-fn value. Note that if you want to return a fn as a
final value, you must wrap it in some data structure and unpack it
after trampoline returns.</pre></div><div class="public" id="var-susfn"><h3>susfn</h3><h4 class="macro">macro</h4><div class="usage"><code>(susfn &amp; expr)</code></div><pre class="doc">Creates a suspendable function that can be used by a fiber or actor
</pre></div><div class="public" id="var-suspendable%21"><h3>suspendable!</h3><div class="usage"></div><pre class="doc">Makes a function suspendable
</pre></div><div class="public" id="var-suspendable%3F"><h3>suspendable?</h3><div class="usage"><code>(suspendable? f)</code></div><pre class="doc">Returns true of a function has been instrumented as suspendable; false otherwise.
</pre></div><div class="public" id="var-trap%21"><h3>trap!</h3><div class="usage"><code>(trap!)</code></div><pre class="doc">Sets the current actor to trap lifecycle events (like a dead linked actor) and turn them into messages
</pre></div><div class="public" id="var-unlink%21"><h3>unlink!</h3><div class="usage"><code>(unlink! actor2)</code><code>(unlink! actor1 actor2)</code></div><pre class="doc">Unlinks two actors
</pre></div><div class="public" id="var-unregister"><h3>unregister</h3><div class="usage"><code>(unregister x)</code></div><pre class="doc">Un-registers an actor
</pre></div><div class="public" id="var-unwatch%21"><h3>unwatch!</h3><div class="usage"><code>(unwatch! actor2 monitor)</code><code>(unwatch! actor1 actor2 monitor)</code></div><pre class="doc">Makes an actor stop watch another actor
</pre></div><div class="public" id="var-watch%21"><h3>watch!</h3><div class="usage"><code>(watch! actor2)</code><code>(watch! actor1 actor2)</code></div><pre class="doc">Makes an actor watch another actor. Returns a watch object which should be used when calling demonitor.
</pre></div><div class="public" id="var-whereis"><h3>whereis</h3><div class="usage"><code>(whereis name)</code></div><pre class="doc">Returns a registered actor by name
</pre></div></div></body></html>